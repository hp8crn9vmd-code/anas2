
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebGL | Shader Lab</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root { --bg: #050505; --text: #ffffff; --dim: #666; --line: rgba(255, 255, 255, 0.1); }
        body { background: var(--bg); color: var(--text); font-family: 'Space Mono', monospace; margin: 0; overflow: hidden; }
        
        .back-btn {
            position: fixed; top: 30px; left: 30px; z-index: 100; color: var(--dim); border: 1px solid var(--line);
            padding: 10px 20px; text-decoration: none; font-size: 0.8rem; background: rgba(5,5,5,0.8);
        }
        .back-btn:hover { color: var(--text); border-color: var(--text); }

        /* Code Overlay Style */
        .code-overlay {
            position: fixed; bottom: 30px; left: 30px; font-size: 0.7rem; color: rgba(255,255,255,0.4);
            pointer-events: none; white-space: pre; font-family: 'Space Mono', monospace;
        }

        canvas { display: block; }
    </style>
</head>
<body>
    <a href="../index.html" class="back-btn">&lt; RETURN_TO_ROOT</a>
    
    <div class="code-overlay">
// FRAGMENT SHADER
void main() {
    vec2 uv = gl_FragCoord.xy/u_resolution;
    vec3 col = 0.5 + 0.5*cos(u_time+uv.xyx+vec3(0,2,4));
    gl_FragColor = vec4(col,1.0);
}
    </div>

    <canvas id="c"></canvas>

    <script id="vs" type="x-shader/x-vertex">
        attribute vec4 position;
        void main() { gl_Position = position; }
    </script>

    <script id="fs" type="x-shader/x-fragment">
        precision highp float;
        uniform vec2 u_resolution;
        uniform float u_time;

        void main() {
            vec2 uv = (gl_FragCoord.xy * 2.0 - u_resolution) / min(u_resolution.x, u_resolution.y);
            vec2 uv0 = uv;
            vec3 finalColor = vec3(0.0);

            for (float i = 0.0; i < 3.0; i++) {
                uv = fract(uv * 1.5) - 0.5;
                float d = length(uv) * exp(-length(uv0));
                vec3 col = vec3(0.2, 0.8, 0.9); // Tech Blue/Cyan
                d = sin(d * 8.0 + u_time) / 8.0;
                d = abs(d);
                d = pow(0.01 / d, 1.2);
                finalColor += col * d;
            }
            gl_FragColor = vec4(finalColor, 1.0);
        }
    </script>

    <script>
        const c = document.getElementById('c');
        const gl = c.getContext('webgl');
        
        function resize() { c.width = innerWidth; c.height = innerHeight; gl.viewport(0, 0, c.width, c.height); }
        window.addEventListener('resize', resize); resize();

        const createShader = (gl, type, source) => {
            const shader = gl.createShader(type);
            gl.shaderSource(shader, source);
            gl.compileShader(shader);
            if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) { console.error(gl.getShaderInfoLog(shader)); gl.deleteShader(shader); return null; }
            return shader;
        };

        const program = gl.createProgram();
        gl.attachShader(program, createShader(gl, gl.VERTEX_SHADER, document.getElementById('vs').text));
        gl.attachShader(program, createShader(gl, gl.FRAGMENT_SHADER, document.getElementById('fs').text));
        gl.linkProgram(program);
        gl.useProgram(program);

        const positionBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1,-1, 1,-1, -1,1, -1,1, 1,-1, 1,1]), gl.STATIC_DRAW);

        const positionLocation = gl.getAttribLocation(program, 'position');
        gl.enableVertexAttribArray(positionLocation);
        gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);

        const uRes = gl.getUniformLocation(program, 'u_resolution');
        const uTime = gl.getUniformLocation(program, 'u_time');

        function render(time) {
            gl.uniform2f(uRes, c.width, c.height);
            gl.uniform1f(uTime, time * 0.001);
            gl.drawArrays(gl.TRIANGLES, 0, 6);
            requestAnimationFrame(render);
        }
        requestAnimationFrame(render);
    </script>
</body>
</html>
