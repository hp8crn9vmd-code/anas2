#!/bin/bash
# script/setup-github.sh
# ุจุฑูุงูุฌ ูุตู ูุฅุนุฏุงุฏ ุฑูุน ุงููุดุฑูุน ุฅูู GitHub

echo "๐ ุฅุนุฏุงุฏ ุฑูุน ูุดุฑูุน Anas2 ุฅูู GitHub"
echo "=================================="

# 1. ุงูุชุญูู ูู ูุฌูุฏ Git
if ! command -v git &> /dev/null; then
    echo "โ Git ุบูุฑ ูุซุจุช. ุงูุฑุฌุงุก ุชุซุจูุช Git ุฃููุงู."
    exit 1
fi

# 2. ุงูุชุญูู ูู ุญุงูุฉ Git
echo "๐ ุงูุชุญูู ูู ุญุงูุฉ Git..."
git status

# 3. ุฅุถุงูุฉ remote (ุณูุทูุจ ููู ุฅุฏุฎุงู ุฑุงุจุท ุงููุณุชูุฏุน)
echo ""
echo "๐ ุฅุถุงูุฉ ุฑุงุจุท GitHub (ูุซุงู: https://github.com/ุงุณู-ุงููุณุชุฎุฏู/anas2.git)"
read -p "ุฃุฏุฎู ุฑุงุจุท GitHub ูููุณุชูุฏุน: " github_url

if [ -z "$github_url" ]; then
    echo "โ ูู ุชุฏุฎู ุฑุงุจุท GitHub"
    exit 1
fi

# 4. ุฅุถุงูุฉ remote
echo "๐ ุฌุงุฑู ุฅุถุงูุฉ remote..."
git remote add origin $github_url

# 5. ุชุบููุฑ ุงุณู ุงููุฑุน ุฅูู main
echo "๐ ุฌุงุฑู ุชุบููุฑ ุงุณู ุงููุฑุน..."
git branch -M main

# 6. ุฑูุน ุงููุดุฑูุน
echo "๐ ุฌุงุฑู ุฑูุน ุงููุดุฑูุน ุฅูู GitHub..."
git push -u origin main

if [ $? -eq 0 ]; then
    echo "โ ุชู ุฑูุน ุงููุดุฑูุน ุจูุฌุงุญ ุฅูู GitHub!"
    echo "๐ ููููู ุฑุคูุชู ุนูู: $(echo $github_url | sed 's/.git$//')"
else
    echo "โ ูุดู ุฑูุน ุงููุดุฑูุน. ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:"
    echo "   - ูุง ุชููู ุตูุงุญูุงุช ูููุณุชูุฏุน"
    echo "   - ุงูุฑุงุจุท ุบูุฑ ุตุญูุญ"
    echo "   - ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู Token ูููุตูู"
    echo ""
    echo "๐ ุฅุฐุง ูุงู ุงููุณุชูุฏุน ุฎุงุตุงูุ ุงุณุชุฎุฏู ุงูุฑุงุจุท ูุน Token:"
    echo "   https://TOKEN@github.com/ุงุณู-ุงููุณุชุฎุฏู/anas2.git"
fi
